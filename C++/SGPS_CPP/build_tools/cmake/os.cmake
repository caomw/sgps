# OS-specific tests
IF($ENV{VERBOSE})
	MESSAGE(STATUS "CMAKE_SYSTEM = '${CMAKE_SYSTEM}'")
	MESSAGE(STATUS "CMAKE_SYSTEM_NAME = '${CMAKE_SYSTEM_NAME}'")
ENDIF($ENV{VERBOSE})

IF("${CMAKE_SYSTEM}" MATCHES "inux")
	MESSAGE(STATUS "Compiling on Linux")
	SET(LINUX 1)
	LIST(APPEND RDKCORE_DEFINITIONS -DLINUX)
	EXEC_PROGRAM("uname" ARGS -m OUTPUT_VARIABLE myArch)
	IF("${myArch}" MATCHES "x86_64")
		MESSAGE(STATUS "  64-bit architecture detected")
		SET(LINUX64 1)
		SET(LIB_SUFFIX "64") # not tested, should replace the string above
	ENDIF("${myArch}" MATCHES "x86_64")
ELSE("${CMAKE_SYSTEM}" MATCHES "inux")
	IF("${CMAKE_SYSTEM}" MATCHES "CYGWIN")
		MESSAGE(STATUS "Compiling on Cygwin (Windows)")
		SET(CYGWIN 1)
		LIST(APPEND RDKCORE_DEFINITIONS -DCYGWIN)
	ELSE("${CMAKE_SYSTEM}" MATCHES "CYGWIN")
		SET(LINUX 0)
		IF(APPLE)
			MESSAGE(STATUS "Compiling on Mac")
			SET(MACOSX 1)
			LIST(APPEND RDKCORE_DEFINITIONS -DMACOSX)
		ELSE(APPLE)
			MESSAGE(FATAL_ERROR "A strange platform: '${CMAKE_SYSTEM}'")
		ENDIF(APPLE)
	ENDIF("${CMAKE_SYSTEM}" MATCHES "CYGWIN")
ENDIF("${CMAKE_SYSTEM}" MATCHES "inux")

